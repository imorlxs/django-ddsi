<!DOCTYPE html>
<html>
<head>
    <title>Gestión de Empleados</title>
</head>
<body>
    <h1>Gestión de Empleados</h1>

    {% if accion == "registrar" %}
        <h2>Registrar Empleado</h2>
        <form method="post">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit">Registrar</button>
        </form>

    {% elif accion == "listar" %}
        <h2>Lista de Empleados</h2>
        <table>
            <tr>
                <th>Nombre</th>
                <th>DNI</th>
                <th>Puesto</th>
                <th>Acciones</th>
            </tr>
            {% for empleado in empleados %}
            <tr>
                <td>{{ empleado.nombre }} {{ empleado.apellido }}</td>
                <td>{{ empleado.dni }}</td>
                <td>{{ empleado.puesto }}</td>
                <td>
                    <a href="{% url 'empleados_accion_pk' 'consultar' empleado.pk %}">Consultar</a>
                    <a href="{% url 'empleados_accion_pk' 'modificar' empleado.pk %}">Modificar</a>
                    <a href="{% url 'empleados_accion_pk' 'eliminar' empleado.pk %}">Eliminar</a>
                </td>
            </tr>
            {% endfor %}
        </table>

    {% elif accion == "modificar" %}
        <h2>Modificar Empleado</h2>
        <form method="post">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit">Guardar Cambios</button>
        </form>

    {% elif accion == "consultar" %}
        <h2>Consultar Empleado</h2>
        <p><strong>Nombre:</strong> {{ empleado.nombre }} {{ empleado.apellido }}</p>
        <p><strong>DNI:</strong> {{ empleado.dni }}</p>
        <p><strong>Teléfono:</strong> {{ empleado.telefono }}</p>
        <p><strong>Email:</strong> {{ empleado.email }}</p>
        <p><strong>Fecha de Contratación:</strong> {{ empleado.fecha_contratacion }}</p>
        <p><strong>Fecha de Nacimiento:</strong> {{ empleado.fecha_nacimiento }}</p>
        <p><strong>Puesto:</strong> {{ empleado.puesto }}</p>
        <a href="{% url 'empleados_accion' 'listar' %}">Volver a la lista</a>

    {% elif accion == "eliminar" %}
        <h2>Eliminar Empleado</h2>
        <p>¿Estás seguro de que quieres eliminar a {{ empleado.nombre }} {{ empleado.apellido }}?</p>
        <form method="post">
            {% csrf_token %}
            <button type="submit">Eliminar</button>
            <a href="{% url 'empleados_accion' 'listar' %}">Cancelar</a>
        </form>
    {% endif %}
</body>
</html>
